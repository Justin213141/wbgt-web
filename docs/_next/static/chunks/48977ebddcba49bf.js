(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18375,70065,31278,e=>{"use strict";var s=e.i(43476);function a({children:e,title:a,description:t}){return(0,s.jsx)("div",{className:"min-h-screen bg-background pb-20 lg:pb-8 lg:pl-64",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl p-4 md:p-6 lg:p-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-balance text-3xl font-bold tracking-tight text-foreground md:text-4xl",children:a}),t&&(0,s.jsx)("p",{className:"mt-2 text-pretty text-muted-foreground",children:t})]}),e]})})}e.s(["PageContainer",()=>a],18375);var t=e.i(47163);function l({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>l,"CardContent",()=>r,"CardDescription",()=>d,"CardHeader",()=>n,"CardTitle",()=>i],70065);let c=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>c],31278)},25652,35408,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>a],25652);let t=(0,s.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);e.s(["TrendingDown",()=>t],35408)},99023,e=>{"use strict";let s=(0,e.i(75254).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>s],99023)},18027,e=>{"use strict";var s=e.i(43476),a=e.i(18375),t=e.i(70065),l=e.i(87316),n=e.i(25652),i=e.i(35408),d=e.i(99023),r=e.i(16945);function c({day1:e,day2:a}){let c=e=>{let s=e.map(e=>e.wbgt),a=e.map(e=>e.temperature),t=e.map(e=>e.uv_index),l=e.map(e=>e.rain_chance);return{maxWBGT:Math.max(...s),minWBGT:Math.min(...s),avgWBGT:s.reduce((e,s)=>e+s,0)/s.length,maxTemp:Math.max(...a),minTemp:Math.min(...a),maxUV:Math.max(...t),maxRain:Math.max(...l),avgRain:l.reduce((e,s)=>e+s,0)/l.length}},x=c(e),m=c(a),o=(e,s)=>{let a=new Date,t=a.getDay(),l=new Date(a);l.setDate(a.getDate()+((6-t+7)%7||7));let n=new Date(a);n.setDate(a.getDate()+((0-t+7)%7||7));let i=l.toLocaleDateString("en-US",{weekday:"long"}),d=n.toLocaleDateString("en-US",{weekday:"long"});return 1===s?i:d},h=(0,r.getWBGTZone)(x.maxWBGT),g=(0,r.getWBGTZone)(m.maxWBGT),u=x.avgWBGT<m.avgWBGT?"day1":m.avgWBGT<x.avgWBGT?"day2":"equal",j=({val1:e,val2:a})=>e<a?(0,s.jsx)(i.TrendingDown,{className:"h-4 w-4 text-green-600"}):e>a?(0,s.jsx)(n.TrendingUp,{className:"h-4 w-4 text-red-600"}):(0,s.jsx)(d.Minus,{className:"h-4 w-4 text-gray-400"});return(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(t.Card,{className:"day1"===u?"border-2 border-green-400":"",children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsxs)(t.CardTitle,{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Calendar,{className:"h-5 w-5"}),e.length>0&&o(e[0].localTimestamp,1)]}),"day1"===u&&(0,s.jsx)("span",{className:"text-sm font-semibold text-green-600",children:"Optimal WBGT"})]})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"WBGT Range"}),(0,s.jsx)(j,{val1:x.avgWBGT,val2:m.avgWBGT})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block h-4 w-4 rounded-full",style:{backgroundColor:0===h.level?"#22c55e":1===h.level?"#eab308":2===h.level?"#f97316":3===h.level?"#ef4444":"#991b1b"}}),(0,s.jsxs)("span",{className:"text-2xl font-bold",children:[x.minWBGT.toFixed(1),"°C - ",x.maxWBGT.toFixed(1),"°C"]})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Peak: ",h.label]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Temperature Range"}),(0,s.jsx)(j,{val1:x.maxTemp,val2:m.maxTemp})]}),(0,s.jsxs)("div",{className:"text-xl font-semibold",children:[x.minTemp.toFixed(1),"°C - ",x.maxTemp.toFixed(1),"°C"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Max UV"}),(0,s.jsx)(j,{val1:x.maxUV,val2:m.maxUV})]}),(0,s.jsx)("div",{className:"text-xl font-semibold",children:x.maxUV.toFixed(1)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Rain Chance"}),(0,s.jsx)(j,{val1:x.maxRain,val2:m.maxRain})]}),(0,s.jsxs)("div",{className:"text-xl font-semibold",children:[x.maxRain,"%"]})]})]})]})]}),(0,s.jsxs)(t.Card,{className:"day2"===u?"border-2 border-green-400":"",children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsxs)(t.CardTitle,{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Calendar,{className:"h-5 w-5"}),a.length>0&&o(a[0].localTimestamp,2)]}),"day2"===u&&(0,s.jsx)("span",{className:"text-sm font-semibold text-green-600",children:"Optimal WBGT"})]})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"WBGT Range"}),(0,s.jsx)(j,{val1:m.avgWBGT,val2:x.avgWBGT})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block h-4 w-4 rounded-full",style:{backgroundColor:0===g.level?"#22c55e":1===g.level?"#eab308":2===g.level?"#f97316":3===g.level?"#ef4444":"#991b1b"}}),(0,s.jsxs)("span",{className:"text-2xl font-bold",children:[m.minWBGT.toFixed(1),"°C - ",m.maxWBGT.toFixed(1),"°C"]})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Peak: ",g.label]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Temperature Range"}),(0,s.jsx)(j,{val1:m.maxTemp,val2:x.maxTemp})]}),(0,s.jsxs)("div",{className:"text-xl font-semibold",children:[m.minTemp.toFixed(1),"°C - ",m.maxTemp.toFixed(1),"°C"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Max UV"}),(0,s.jsx)(j,{val1:m.maxUV,val2:x.maxUV})]}),(0,s.jsx)("div",{className:"text-xl font-semibold",children:m.maxUV.toFixed(1)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Rain Chance"}),(0,s.jsx)(j,{val1:m.maxRain,val2:x.maxRain})]}),(0,s.jsxs)("div",{className:"text-xl font-semibold",children:[m.maxRain,"%"]})]})]})]})]})]})}var x=e.i(3116);let m=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function o({data:e}){let a=(()=>{let s=[],a=[];if(e.forEach((t,l)=>{if((0,r.getWBGTZone)(t.wbgt).level<=1&&t.rain_chance<30&&t.uv_index<8)a.push(l);else{if(a.length>=2){let t=a.map(s=>e[s]);s.push({start:a[0],end:a[a.length-1],avgWBGT:t.reduce((e,s)=>e+s.wbgt,0)/t.length,avgUV:t.reduce((e,s)=>e+s.uv_index,0)/t.length,maxRain:Math.max(...t.map(e=>e.rain_chance))})}a=[]}}),a.length>=2){let t=a.map(s=>e[s]);s.push({start:a[0],end:a[a.length-1],avgWBGT:t.reduce((e,s)=>e+s.wbgt,0)/t.length,avgUV:t.reduce((e,s)=>e+s.uv_index,0)/t.length,maxRain:Math.max(...t.map(e=>e.rain_chance))})}return s})(),l=e=>new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsxs)(t.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,s.jsx)(x.Clock,{className:"h-5 w-5"}),"Optimal Weather Windows"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Continuous periods with safe WBGT, low rain chance, and moderate UV"})]}),(0,s.jsx)(t.CardContent,{children:a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map((a,t)=>{let n,i=e[a.start],d=e[a.end],c=(n=a.start,a.end-n+1),x=(0,r.getWBGTZone)(a.avgWBGT);return(0,s.jsxs)("div",{className:"rounded-lg border-2 border-green-200 bg-green-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m,{className:"h-5 w-5 text-green-600"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-semibold text-green-900",children:["Window ",t+1,": ",c," hours"]}),(0,s.jsx)("div",{className:"text-sm text-green-700",children:new Date(i.localTimestamp).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("div",{className:"text-sm font-semibold text-green-900",children:[l(i.localTimestamp)," - ",l(d.localTimestamp)]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700",children:"Avg WBGT:"})," ",(0,s.jsxs)("span",{className:"font-semibold text-green-900",children:[a.avgWBGT.toFixed(1),"°C"]}),(0,s.jsx)("div",{className:"text-xs text-green-600",children:x.label})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700",children:"Avg UV:"})," ",(0,s.jsx)("span",{className:"font-semibold text-green-900",children:a.avgUV.toFixed(1)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700",children:"Max Rain:"})," ",(0,s.jsxs)("span",{className:"font-semibold text-green-900",children:[a.maxRain,"%"]})]})]})]},t)})}):(0,s.jsx)("div",{className:"rounded-lg border border-orange-200 bg-orange-50 p-6 text-center",children:(0,s.jsx)("p",{className:"text-orange-800",children:"No extended optimal weather windows found. Consider shorter activity periods during safer hours."})})})]})}function h({day1:e,day2:a}){let l=e=>new Date(e).toLocaleTimeString("en-US",{hour:"numeric"}),n=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long"}),i=(e,a)=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:a}),(0,s.jsx)("div",{className:"grid grid-cols-12 gap-1",children:e.map((e,a)=>{let t=(0,r.getWBGTZone)(e.wbgt),n=0===t.level?"#22c55e":1===t.level?"#eab308":2===t.level?"#f97316":"#ef4444";return(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"h-16 rounded cursor-pointer transition-all hover:scale-105",style:{backgroundColor:n},title:`${l(e.localTimestamp)}: ${e.wbgt.toFixed(1)}\xb0C - ${t.label}`}),a%3==0&&(0,s.jsx)("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:l(e.localTimestamp)}),(0,s.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:(0,s.jsxs)("div",{className:"bg-gray-900 text-white text-xs rounded-lg p-3 whitespace-nowrap shadow-lg",children:[(0,s.jsx)("div",{className:"font-semibold mb-1",children:l(e.localTimestamp)}),(0,s.jsxs)("div",{children:["WBGT: ",e.wbgt.toFixed(1),"°C (",t.label,")"]}),(0,s.jsxs)("div",{children:["Temp: ",e.temperature.toFixed(1),"°C"]}),(0,s.jsxs)("div",{children:["UV: ",e.uv_index.toFixed(1)]}),(0,s.jsxs)("div",{children:["Rain: ",e.rain_chance,"%"]})]})})]},a)})})]});return(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{className:"text-lg",children:"48-Hour Visual Timeline"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hover over each hour for details. Colors indicate WBGT safety levels."}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-3 w-3 rounded bg-green-500"}),(0,s.jsx)("span",{children:"Safe"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-3 w-3 rounded bg-yellow-500"}),(0,s.jsx)("span",{children:"Caution"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-3 w-3 rounded bg-orange-500"}),(0,s.jsx)("span",{children:"Warning"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-3 w-3 rounded bg-red-500"}),(0,s.jsx)("span",{children:"Danger"})]})]})]}),(0,s.jsxs)(t.CardContent,{className:"space-y-8",children:[e.length>0&&i(e,n(e[0].localTimestamp)),a.length>0&&i(a,n(a[0].localTimestamp))]})]})}var g=e.i(83599),u=e.i(54858),j=e.i(31278);function v(){let{data:e,error:t}=(0,g.default)("weekend-forecast",u.fetchForecast,{refreshInterval:3e5}),l=!e,n=e?.slice(0,48)||[],i=n.slice(0,24),d=n.slice(24,48);return(0,s.jsxs)(a.PageContainer,{title:"Weekend",description:"48-hour planning with detailed weather windows",children:[t&&(0,s.jsx)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-4 text-destructive",children:"Failed to load weekend forecast. Please try again later."}),l&&!t&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),!l&&!t&&n.length>0&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(c,{day1:i,day2:d}),(0,s.jsx)(o,{data:n}),(0,s.jsx)(h,{day1:i,day2:d})]}),!l&&!t&&0===n.length&&(0,s.jsx)("div",{className:"rounded-lg border border-border bg-muted p-8 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No weekend forecast available"})})]})}e.s(["default",()=>v],18027)}]);