(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87539,e=>{"use strict";var t=e.i(43476),r=e.i(18375),a=e.i(70065),n=e.i(10059),i=e.i(78894),l=e.i(16945);function o({data:e}){let r=(0,l.getWBGTZone)(e.wbgt),o=(0,l.getWBGTZoneColor)(r);return(0,t.jsxs)(a.Card,{className:"h-full border-2",style:{borderColor:o.border},children:[(0,t.jsx)(a.CardHeader,{className:"pb-3",children:(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2 text-sm font-medium text-gray-600",children:[(0,t.jsx)(n.Thermometer,{className:"h-4 w-4"}),"WBGT Temperature"]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsxs)("div",{className:"rounded-xl p-6 text-center transition-colors",style:{backgroundColor:o.bg},children:[(0,t.jsx)("div",{className:"mb-2 flex items-center justify-center gap-2",children:r.level>=2&&(0,t.jsx)(i.AlertTriangle,{className:"h-6 w-6",style:{color:o.text}})}),(0,t.jsxs)("div",{className:"mb-4 text-6xl font-bold",style:{color:o.text},children:[e.wbgt.toFixed(1),"°C"]}),(0,t.jsx)("div",{className:"inline-block rounded-full px-4 py-2 text-sm font-bold uppercase tracking-wide",style:{backgroundColor:o.text,color:o.bg},children:r.label}),(0,t.jsx)("p",{className:"mt-4 text-sm font-medium",style:{color:o.text},children:r.description})]}),(0,t.jsxs)("div",{className:"mt-4 text-center text-xs text-gray-500",children:["Updated: ",e.localTimestamp]})]})]})}var s=e.i(39544),c=e.i(82365),d=e.i(97250),u=e.i(75254);let p=(0,u.default)("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);function m({data:e}){let r=[{icon:p,label:"Temperature",value:`${e.temperature.toFixed(1)}\xb0C`,subValue:`Feels like: ${e.apparent_temp.toFixed(1)}\xb0C`,color:"text-orange-600"},{icon:s.Droplets,label:"Humidity",value:`${e.humidity}%`,subValue:`Dew point: ${e.dew_point.toFixed(1)}\xb0C`,color:"text-blue-600"},{icon:d.Sun,label:"Solar Radiation",value:`${e.solar_radiation.toFixed(0)} W/m\xb2`,subValue:`Cloud cover: ${e.cloud_cover}%`,color:"text-yellow-600"},{icon:c.Wind,label:"Wind Speed",value:`${e.wind_speed_ms.toFixed(1)} m/s`,subValue:`${(3.6*e.wind_speed_ms).toFixed(1)} km/h`,color:"text-cyan-600"}];return(0,t.jsxs)(a.Card,{className:"h-full",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-lg",children:"Current Conditions"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:r.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border bg-gray-50 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(e.icon,{className:`h-5 w-5 ${e.color}`}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.label})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.subValue})]},e.label))})})]})}var f=e.i(69638);let y=(0,u.default)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);var h=e.i(73884);function x({wbgt:e,esi:r}){let n=(0,l.getSafetyRecommendations)(e,r),o={0:f.CheckCircle,1:i.AlertTriangle,2:y,3:h.XCircle}[n.level];return(0,t.jsx)(a.Card,{className:"border-2",style:{borderColor:n.color},children:(0,t.jsx)(a.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"rounded-full p-3",style:{backgroundColor:`${n.color}20`},children:(0,t.jsx)(o,{className:"h-6 w-6",style:{color:n.color}})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:n.title}),(0,t.jsx)("p",{className:"text-gray-700 mb-3",children:n.message}),(0,t.jsx)("ul",{className:"space-y-1",children:n.actions.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-gray-400 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},r))})]})]})})})}var b=e.i(71645),v=e.i(29228),g=e.i(55706),j=e.i(85183),O=e.i(93230),w=e.i(72526),P=e.i(34239),A=b,N=e.i(74080),C=e.i(88860),k=b,E=e.i(7670),S=e.i(48337);e.i(2353);var I=e.i(75058),T=e.i(16888);let L=Math.cos,D=Math.sin,M=Math.sqrt,W=Math.PI,_=2*W;M(3);let z={draw(e,t){let r=M(t/W);e.moveTo(r,0),e.arc(0,0,r,0,_)}},R=M(1/3),F=2*R,B=D(W/10)/D(7*W/10),V=D(_/10)*B,K=-L(_/10)*B,H=M(3);M(3);let G=M(3)/2,q=1/M(12),U=(q/2+1)*3;var $=e.i(94395),Y=e.i(43404),X=["type","size","sizeType"];function Z(){return(Z=Object.assign.bind()).apply(null,arguments)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ee={symbolCircle:z,symbolCross:{draw(e,t){let r=M(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},symbolDiamond:{draw(e,t){let r=M(t/F),a=r*R;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},symbolSquare:{draw(e,t){let r=M(t),a=-r/2;e.rect(a,a,r,r)}},symbolStar:{draw(e,t){let r=M(.8908130915292852*t),a=V*r,n=K*r;e.moveTo(0,-r),e.lineTo(a,n);for(let t=1;t<5;++t){let i=_*t/5,l=L(i),o=D(i);e.lineTo(o*r,-l*r),e.lineTo(l*a-o*n,o*a+l*n)}e.closePath()}},symbolTriangle:{draw(e,t){let r=-M(t/(3*H));e.moveTo(0,2*r),e.lineTo(-H*r,-r),e.lineTo(H*r,-r),e.closePath()}},symbolWye:{draw(e,t){let r=M(t/U),a=r/2,n=r*q,i=r*q+r,l=-a;e.moveTo(a,n),e.lineTo(a,i),e.lineTo(l,i),e.lineTo(-.5*a-G*n,G*a+-.5*n),e.lineTo(-.5*a-G*i,G*a+-.5*i),e.lineTo(-.5*l-G*i,G*l+-.5*i),e.lineTo(-.5*a+G*n,-.5*n-G*a),e.lineTo(-.5*a+G*i,-.5*i-G*a),e.lineTo(-.5*l+G*i,-.5*i-G*l),e.closePath()}}},et=Math.PI/180,er=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=J(J({},function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,X)),{},{type:t,size:r,sizeType:a}),i="circle";"string"==typeof t&&(i=t);var{className:l,cx:o,cy:s}=n,c=(0,Y.svgPropertiesAndEvents)(n);return o===+o&&s===+s&&r===+r?b.createElement("path",Z({},c,{className:(0,E.clsx)("recharts-symbols",l),transform:"translate(".concat(o,", ").concat(s,")"),d:(()=>{var e,t=(e=i,ee["symbol".concat((0,$.upperFirst)(e))]||z),n=(function(e,t){let r=null,a=(0,T.withPath)(n);function n(){let n;if(r||(r=n=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return e="function"==typeof e?e:(0,I.default)(e||z),t="function"==typeof t?t:(0,I.default)(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,I.default)(t),n):e},n.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,I.default)(+e),n):t},n.context=function(e){return arguments.length?(r=null==e?null:e,n):r},n})().type(t).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*et;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.tan(a)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,i))();if(null!==n)return n})()})):null};er.registerSymbol=(e,t)=>{ee["symbol".concat((0,$.upperFirst)(e))]=t};var ea=e.i(73393);function en(){return(en=Object.assign.bind()).apply(null,arguments)}function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function el(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eo extends k.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,a=32/6,n=32/3,i=e.inactive?r:e.color,l=null!=t?t:e.type;if("none"===l)return null;if("plainline"===l)return k.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===l)return k.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(16,"h").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*n,",").concat(16,"\n            H").concat(32,"M").concat(2*n,",").concat(16,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(n,",").concat(16),className:"recharts-legend-icon"});if("rect"===l)return k.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(k.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){el(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,k.cloneElement(e.legendIcon,o)}return k.createElement(er,{fill:i,cx:16,cy:16,size:32,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:a,inactiveColor:n,iconType:i}=this.props,l={x:0,y:0,width:32,height:32},o={display:"horizontal"===r?"inline-block":"block",marginRight:10},s={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var c=e.formatter||a,d=(0,E.clsx)({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var u=e.inactive?n:e.color,p=c?c(e.value,e,r):e.value;return k.createElement("li",en({className:d,style:o,key:"legend-item-".concat(r)},(0,ea.adaptEventsOfChild)(this.props,e,r)),k.createElement(S.Surface,{width:t,height:t,viewBox:l,style:s,"aria-label":"".concat(p," legend icon")},this.renderIcon(e,i)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:u}},p))})}render(){var{payload:e,layout:t,align:r}=this.props;return e&&e.length?k.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===t?r:"left"}},this.renderItems()):null}}el(eo,"displayName","Legend"),el(eo,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var es=e.i(51587),ec=e.i(27241),ed=e.i(21307),eu=e.i(35709),ep=e.i(46710),em=e.i(93882),ef=["contextPayload"];function ey(){return(ey=Object.assign.bind()).apply(null,arguments)}function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(t){eb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eb(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ev(e){return e.value}function eg(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,ef),a=(0,es.getUniqPayload)(t,e.payloadUniqBy,ev),n=ex(ex({},r),{},{payload:a});return A.isValidElement(e.content)?A.cloneElement(e.content,n):"function"==typeof e.content?A.createElement(e.content,n):A.createElement(eo,n)}function ej(e){var t=(0,ec.useAppDispatch)();return(0,A.useEffect)(()=>{t((0,em.setLegendSettings)(e))},[t,e]),null}function eO(e){var t=(0,ec.useAppDispatch)();return(0,A.useEffect)(()=>(t((0,em.setLegendSize)(e)),()=>{t((0,em.setLegendSize)({width:0,height:0}))}),[t,e]),null}function ew(e){var t=(0,ec.useAppSelector)(ed.selectLegendPayload),r=(0,C.useLegendPortal)(),a=(0,ep.useMargin)(),{width:n,height:i,wrapperStyle:l,portal:o}=e,[s,c]=(0,eu.useElementOffset)([t]),d=(0,ep.useChartWidth)(),u=(0,ep.useChartHeight)();if(null==d||null==u)return null;var p=d-(a.left||0)-(a.right||0),m=eP.getWidthOrHeight(e.layout,i,n,p),f=o?l:ex(ex({position:"absolute",width:(null==m?void 0:m.width)||n||"auto",height:(null==m?void 0:m.height)||i||"auto"},function(e,t,r,a,n,i){var l,o,{layout:s,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===c&&"vertical"===s?{left:((a||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((n||0)-i.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ex(ex({},l),o)}(l,e,a,d,u,s)),l),y=null!=o?o:r;if(null==y)return null;var h=A.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:c},A.createElement(ej,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(eO,{width:s.width,height:s.height}),A.createElement(eg,ey({},e,m,{margin:a,chartWidth:d,chartHeight:u,contextPayload:t})));return(0,N.createPortal)(h,y)}class eP extends A.PureComponent{static getWidthOrHeight(e,t,r,a){return"vertical"===e&&(0,$.isNumber)(t)?{height:t}:"horizontal"===e?{width:r||a}:null}render(){return A.createElement(ew,this.props)}}eb(eP,"displayName","Legend"),eb(eP,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var eA=e.i(31195),eN=b,eC=e.i(97865),ek=e.i(494),eE=e.i(44171),eS=e.i(29905),eI=e.i(31725),eT=e.i(61764),eL=e.i(75337),eD=e.i(89763);function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(t){e_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e_(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ez(){return(ez=Object.assign.bind()).apply(null,arguments)}function eR(e){var t=(0,ec.useAppDispatch)();return(0,eN.useEffect)(()=>(t((0,eI.addArea)(e)),()=>{t((0,eI.removeArea)(e))})),null}function eF(e){var t,{x1:r,x2:a,y1:n,y2:i,className:l,shape:o,xAxisId:s,yAxisId:c}=e,d=(0,eD.useClipPathId)(),u=(0,eL.useIsPanorama)(),p=(0,ec.useAppSelector)(e=>(0,eT.selectAxisScale)(e,"xAxis",s,u)),m=(0,ec.useAppSelector)(e=>(0,eT.selectAxisScale)(e,"yAxis",c,u));if(null==p||null==!m)return null;var f=(0,$.isNumOrStr)(r),y=(0,$.isNumOrStr)(a),h=(0,$.isNumOrStr)(n),x=(0,$.isNumOrStr)(i);if(!f&&!y&&!h&&!x&&!o)return null;var b=((e,t,r,a,n,i,l)=>{var{x1:o,x2:s,y1:c,y2:d}=l;if(null==n||null==i)return null;var u=(0,eE.createLabeledScales)({x:n,y:i}),p={x:e?u.x.apply(o,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(c,{position:"start"}):u.y.rangeMin},m={x:t?u.x.apply(s,{position:"end"}):u.x.rangeMax,y:a?u.y.apply(d,{position:"end"}):u.y.rangeMax};return"discard"!==l.ifOverflow||u.isInRange(p)&&u.isInRange(m)?(0,eE.rectWithPoints)(p,m):null})(f,y,h,x,p,m,e);if(!b&&!o)return null;var v="hidden"===e.ifOverflow;return eN.createElement(eC.Layer,{className:(0,E.clsx)("recharts-reference-area",l)},(t=eW(eW({clipPath:v?"url(#".concat(d,")"):void 0},(0,Y.svgPropertiesAndEvents)(e)),b),eN.isValidElement(o)?eN.cloneElement(o,t):"function"==typeof o?o(t):eN.createElement(eS.Rectangle,ez({},t,{className:"recharts-reference-area-rect"}))),eN.createElement(ek.CartesianLabelContextProvider,b,eN.createElement(ek.CartesianLabelFromLabelProp,{label:e.label}),e.children))}function eB(e){return eN.createElement(eN.Fragment,null,eN.createElement(eR,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),eN.createElement(eF,e))}class eV extends eN.Component{render(){return eN.createElement(eB,this.props)}}e_(eV,"displayName","ReferenceArea"),e_(eV,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});var eK=b,eH=e.i(72733),eG=e.i(38279),eq=e.i(69212),eU=e.i(62728),e$=e.i(79812),eY=e.i(81977),eX=e.i(41818),eZ=e.i(844),eQ=e.i(59798),eJ=e.i(61849),e0=e.i(92860),e1=e.i(91526),e2=(e,t,r,a)=>(0,eT.selectAxisWithScale)(e,"xAxis",t,a),e3=(e,t,r,a)=>(0,eT.selectTicksOfGraphicalItem)(e,"xAxis",t,a),e4=(e,t,r,a)=>(0,eT.selectAxisWithScale)(e,"yAxis",r,a),e8=(e,t,r,a)=>(0,eT.selectTicksOfGraphicalItem)(e,"yAxis",r,a),e6=(0,eJ.createSelector)([ep.selectChartLayout,e2,e4,e3,e8],(e,t,r,a,n)=>(0,e$.isCategoricalAxis)(e,"xAxis")?(0,e$.getBandSizeOfAxis)(t,a,!1):(0,e$.getBandSizeOfAxis)(r,n,!1)),e5=(0,eJ.createSelector)([eT.selectUnfilteredCartesianItems,(e,t,r,a,n)=>n],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),e7=(0,eJ.createSelector)([ep.selectChartLayout,e2,e4,e3,e8,(e,t,r,a,n)=>{var i,l,o=e5(e,t,r,a,n);if(null!=o){var s=(0,ep.selectChartLayout)(e);if(null!=(l=(0,e$.isCategoricalAxis)(s,"xAxis")?(0,eT.selectStackGroups)(e,"yAxis",r,a):(0,eT.selectStackGroups)(e,"xAxis",t,a))){var{stackId:c}=o,d=(0,e1.getStackSeriesIdentifier)(o);if(null!=c&&null!=d){var u=null==(i=l[c])?void 0:i.stackedData;return null==u?void 0:u.find(e=>e.key===d)}}}},e0.selectChartDataWithIndexesIfNotInPanorama,e6,e5],(e,t,r,a,n,i,l,o,s)=>{var c,{chartData:d,dataStartIndex:u,dataEndIndex:p}=l;if(null!=s&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=a&&null!=n&&0!==a.length&&0!==n.length&&null!=o){var{data:m}=s;if(null!=(c=m&&m.length>0?m:null==d?void 0:d.slice(u,p+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:a,dataKey:n},stackedData:i,layout:l,chartBaseValue:o,xAxis:s,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:p,yAxisTicks:m,bandSize:f}=e,y=i&&i.length,h=((e,t,r,a,n)=>{var i=null!=r?r:t;if((0,$.isNumber)(i))return i;var l="horizontal"===e?n:a,o=l.scale.domain();if("number"===l.type){var s=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===i?c:"dataMax"===i||s<0?s:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===i?o[0]:"dataMax"===i?o[1]:o[0]})(l,o,a,s,c),x="horizontal"===l,b=!1,v=d.map((e,t)=>{y?a=i[u+t]:Array.isArray(a=(0,e$.getValueByDataKey)(e,n))?b=!0:a=[h,a];var a,l=null==a[1]||y&&!r&&null==(0,e$.getValueByDataKey)(e,n);return x?{x:(0,e$.getCateCoordinateOfLine)({axis:s,ticks:p,bandSize:f,entry:e,index:t}),y:l?null:c.scale(a[1]),value:a,payload:e}:{x:l?null:s.scale(a[1]),y:(0,e$.getCateCoordinateOfLine)({axis:c,ticks:m,bandSize:f,entry:e,index:t}),value:a,payload:e}});return t=y||b?v.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?s.scale(t):null,y:e.y,payload:e.payload}}):x?c.scale(h):s.scale(h),{points:v,baseLine:t,isRange:b}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:u,areaSettings:s,stackedData:i,displayedData:c,chartBaseValue:void 0,bandSize:o})}}),e9=e.i(75502),te=e.i(95146),tt=e.i(40657),tr=e.i(51883),ta=e.i(22075),tn=e.i(52734),ti=e.i(15549),tl=e.i(91187),to=e.i(57999),ts=e.i(66576),tc=e.i(81583),td=["id"],tu=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tp(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ty(){return(ty=Object.assign.bind()).apply(null,arguments)}function th(e,t){return e&&"none"!==e?e:t}function tx(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:s}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:(0,e$.getTooltipNameProp)(l,t),hide:o,type:e.tooltipType,color:th(a,i),unit:s}}}function tb(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:i,dataKey:l}=a;if(null==r||!i&&1!==r.length)return null;var o=(0,eY.isClipDot)(i),s=(0,to.svgPropertiesNoEvents)(a),c=(0,Y.svgPropertiesAndEventsFromUnknown)(i),d=r.map((e,t)=>{var a,n=tf(tf(tf({key:"dot-".concat(t),r:3},s),c),{},{index:t,cx:e.x,cy:e.y,dataKey:l,value:e.value,payload:e.payload,points:r});if(eK.isValidElement(i))a=eK.cloneElement(i,n);else if("function"==typeof i)a=i(n);else{var o=(0,E.clsx)("recharts-area-dot","boolean"!=typeof i?i.className:"");a=eK.createElement(eG.Dot,ty({},n,{className:o}))}return a}),u={clipPath:n?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return eK.createElement(eC.Layer,ty({className:"recharts-area-dots"},u),d)}function tv(e){var{showLabels:t,children:r,points:a}=e,n=a.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return tf(tf({},t),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:t,fill:void 0})});return eK.createElement(eq.CartesianLabelListContextProvider,{value:t?n:null},r)}function tg(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:s,connectNulls:c,isRange:d}=i,{id:u}=i,p=tp(i,td),m=(0,to.svgPropertiesNoEvents)(p);return eK.createElement(eK.Fragment,null,(null==t?void 0:t.length)>1&&eK.createElement(eC.Layer,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},eK.createElement(eH.Curve,ty({},m,{id:u,points:t,connectNulls:c,type:o,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==s&&eK.createElement(eH.Curve,ty({},m,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:t})),"none"!==s&&d&&eK.createElement(eH.Curve,ty({},m,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:r}))),eK.createElement(tb,{points:t,props:p,clipPathId:n}))}function tj(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].y,l=a[a.length-1].y;if(!(0,ta.isWellBehavedNumber)(i)||!(0,ta.isWellBehavedNumber)(l))return null;var o=t*Math.abs(i-l),s=Math.max(...a.map(e=>e.x||0));return((0,$.isNumber)(r)?s=Math.max(r,s):r&&Array.isArray(r)&&r.length&&(s=Math.max(...r.map(e=>e.x||0),s)),(0,$.isNumber)(s))?eK.createElement("rect",{x:0,y:i<l?i:i-o,width:s+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function tO(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].x,l=a[a.length-1].x;if(!(0,ta.isWellBehavedNumber)(i)||!(0,ta.isWellBehavedNumber)(l))return null;var o=t*Math.abs(i-l),s=Math.max(...a.map(e=>e.y||0));return((0,$.isNumber)(r)?s=Math.max(r,s):r&&Array.isArray(r)&&r.length&&(s=Math.max(...r.map(e=>e.y||0),s)),(0,$.isNumber)(s))?eK.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(s+(n?parseInt("".concat(n),10):1))}):null}function tw(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:i}=e;return"vertical"===r?eK.createElement(tj,{alpha:t,points:a,baseLine:n,strokeWidth:i}):eK.createElement(tO,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function tP(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationStart:p,onAnimationEnd:m}=a,f=(0,tt.useAnimationId)(a,"recharts-area-"),[y,h]=(0,eK.useState)(!1),x=(0,eK.useCallback)(()=>{"function"==typeof m&&m(),h(!1)},[m]),b=(0,eK.useCallback)(()=>{"function"==typeof p&&p(),h(!0)},[p]),v=n.current,g=i.current;return eK.createElement(tv,{showLabels:!y,points:l},a.children,eK.createElement(ts.JavascriptAnimate,{animationId:f,begin:c,duration:d,isActive:s,easing:u,onAnimationEnd:x,onAnimationStart:b,key:f},e=>{if(v){var c,d=v.length/l.length,u=1===e?l:l.map((t,r)=>{var a=Math.floor(r*d);if(v[a]){var n=v[a];return tf(tf({},t),{},{x:(0,$.interpolate)(n.x,t.x,e),y:(0,$.interpolate)(n.y,t.y,e)})}return t});return c=(0,$.isNumber)(o)?(0,$.interpolate)(g,o,e):(0,$.isNullish)(o)||(0,$.isNan)(o)?(0,$.interpolate)(g,0,e):o.map((t,r)=>{var a=Math.floor(r*d);if(Array.isArray(g)&&g[a]){var n=g[a];return tf(tf({},t),{},{x:(0,$.interpolate)(n.x,t.x,e),y:(0,$.interpolate)(n.y,t.y,e)})}return t}),e>0&&(n.current=u,i.current=c),eK.createElement(tg,{points:u,baseLine:c,needClip:t,clipPathId:r,props:a})}return e>0&&(n.current=l,i.current=o),eK.createElement(eC.Layer,null,s&&eK.createElement("defs",null,eK.createElement("clipPath",{id:"animationClipPath-".concat(r)},eK.createElement(tw,{alpha:e,points:l,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),eK.createElement(eC.Layer,{clipPath:"url(#animationClipPath-".concat(r,")")},eK.createElement(tg,{points:l,baseLine:o,needClip:t,clipPathId:r,props:a})))}),eK.createElement(eq.LabelListFromLabelProp,{label:a.label}))}function tA(e){var{needClip:t,clipPathId:r,props:a}=e,n=(0,eK.useRef)(null),i=(0,eK.useRef)();return eK.createElement(tP,{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i})}class tN extends eK.PureComponent{render(){var{hide:e,dot:t,points:r,className:a,top:n,left:i,needClip:l,xAxisId:o,yAxisId:s,width:c,height:d,id:u,baseLine:p}=this.props;if(e)return null;var m=(0,E.clsx)("recharts-area",a),{r:f,strokeWidth:y}=(0,tc.getRadiusAndStrokeWidthFromDot)(t),h=(0,eY.isClipDot)(t),x=2*f+y;return eK.createElement(eK.Fragment,null,eK.createElement(eC.Layer,{className:m},l&&eK.createElement("defs",null,eK.createElement(eQ.GraphicalItemClipPath,{clipPathId:u,xAxisId:o,yAxisId:s}),!h&&eK.createElement("clipPath",{id:"clipPath-dots-".concat(u)},eK.createElement("rect",{x:i-x/2,y:n-x/2,width:c+x,height:d+x}))),eK.createElement(tA,{needClip:l,clipPathId:u,props:this.props})),eK.createElement(eX.ActivePoints,{points:r,mainColor:th(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&eK.createElement(eX.ActivePoints,{points:p,mainColor:th(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var tC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!eU.Global.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function tk(e){var t,r=(0,tr.resolveDefaultProps)(e,tC),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:s,fill:c,fillOpacity:d,hide:u,isAnimationActive:p,legendType:m,stroke:f,xAxisId:y,yAxisId:h}=r,x=tp(r,tu),b=(0,ep.useChartLayout)(),v=(0,e9.useChartName)(),{needClip:g}=(0,eQ.useNeedsClip)(y,h),j=(0,eL.useIsPanorama)(),{points:O,isRange:w,baseLine:P}=null!=(t=(0,ec.useAppSelector)(t=>e7(t,y,h,j,e.id)))?t:{},A=(0,tn.usePlotArea)();if("horizontal"!==b&&"vertical"!==b||null==A||"AreaChart"!==v&&"ComposedChart"!==v)return null;var{height:N,width:C,x:k,y:E}=A;return O&&O.length?eK.createElement(tN,ty({},x,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:P,connectNulls:o,dot:s,fill:c,fillOpacity:d,height:N,hide:u,layout:b,isAnimationActive:p,isRange:w,legendType:m,needClip:g,points:O,stroke:f,width:C,left:k,top:E,xAxisId:y,yAxisId:h})):null}var tE=eK.memo(function(e){var t=(0,tr.resolveDefaultProps)(e,tC),r=(0,eL.useIsPanorama)();return eK.createElement(ti.RegisterGraphicalItemId,{id:t.id,type:"area"},e=>eK.createElement(eK.Fragment,null,eK.createElement(te.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:th(a,n),value:(0,e$.getTooltipNameProp)(r,t),payload:e}]})(t)}),eK.createElement(eZ.SetTooltipEntrySettings,{fn:tx,args:t}),eK.createElement(tl.SetCartesianGraphicalItem,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:(0,e$.getNormalizedStackId)(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),eK.createElement(tk,ty({},t,{id:e}))))});tE.displayName="Area";var tS=e.i(67881);function tI({data:e}){let[r,n]=(0,b.useState)({wbgt:!0,temperature:!0,humidity:!1,solar_radiation:!1,wind_speed_ms:!1,rain_chance:!1}),i=e.map(e=>({time:new Date(e.localTimestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),wbgt:e.wbgt,temperature:e.temperature,humidity:e.humidity,solar_radiation:e.solar_radiation,wind_speed_ms:e.wind_speed_ms,rain_chance:e.rain_chance})),l=[{key:"wbgt",label:"WBGT",color:"#ef4444",unit:"°C",yAxisId:"temp"},{key:"temperature",label:"Temperature",color:"#f97316",unit:"°C",yAxisId:"temp"},{key:"humidity",label:"Humidity",color:"#3b82f6",unit:"%",yAxisId:"percent"},{key:"rain_chance",label:"Rain Chance",color:"#8b5cf6",unit:"%",yAxisId:"percent"},{key:"solar_radiation",label:"Solar Rad",color:"#eab308",unit:"W/m²",yAxisId:"solar"},{key:"wind_speed_ms",label:"Wind Speed",color:"#6b7280",unit:"m/s",yAxisId:"wind"}];return(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-lg",children:"6-Hour Forecast"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:l.map(e=>(0,t.jsx)(tS.Button,{variant:r[e.key]?"default":"outline",size:"sm",onClick:()=>{var t;return t=e.key,void n(e=>({...e,[t]:!e[t]}))},className:"text-xs",style:r[e.key]?{backgroundColor:e.color,borderColor:e.color}:{},children:e.label},e.key))})]}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("div",{className:"mb-4 text-center text-sm text-muted-foreground",children:"Temp (L) | % (R)"}),(0,t.jsx)(eA.ResponsiveContainer,{width:"100%",height:400,children:(0,t.jsxs)(v.LineChart,{data:i,margin:{top:5,right:30,left:20,bottom:5},children:[(0,t.jsx)(w.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(j.XAxis,{dataKey:"time",stroke:"#6b7280",style:{fontSize:"12px"}}),(0,t.jsx)(O.YAxis,{yAxisId:"temp",stroke:"#f97316",style:{fontSize:"12px"},label:{value:"Temperature (°C)",angle:-90,position:"insideLeft"},domain:[15,35]}),(0,t.jsx)(O.YAxis,{yAxisId:"percent",orientation:"right",stroke:"#3b82f6",style:{fontSize:"12px"},label:{value:"Percentage (%)",angle:90,position:"insideRight"},domain:[0,100]}),(0,t.jsx)(O.YAxis,{yAxisId:"solar",orientation:"right",hide:!0,domain:[0,1200]}),(0,t.jsx)(O.YAxis,{yAxisId:"wind",orientation:"right",hide:!0,domain:[0,15]}),(0,t.jsx)(eV,{yAxisId:"temp",y1:20,y2:23,fill:"#eab308",fillOpacity:.1}),(0,t.jsx)(eV,{yAxisId:"temp",y1:23,y2:26,fill:"#f97316",fillOpacity:.1}),(0,t.jsx)(eV,{yAxisId:"temp",y1:26,y2:29,fill:"#ef4444",fillOpacity:.1}),(0,t.jsx)(eV,{yAxisId:"temp",y1:29,y2:35,fill:"#991b1b",fillOpacity:.1}),(0,t.jsx)(P.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px"},formatter:(e,t)=>{let r=l.find(e=>e.key===t);return[`${e.toFixed(1)} ${r?.unit||""}`,r?.label||t]}}),(0,t.jsx)(eP,{content:()=>(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center mt-4",children:[r.wbgt&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ef4444"}}),(0,t.jsx)("span",{className:"text-sm",children:"WBGT (°C)"})]}),r.temperature&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f97316"}}),(0,t.jsx)("span",{className:"text-sm",children:"Temperature (°C)"})]}),r.humidity&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#3b82f6"}}),(0,t.jsx)("span",{className:"text-sm",children:"Humidity (%)"})]}),r.rain_chance&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#8b5cf6"}}),(0,t.jsx)("span",{className:"text-sm",children:"Rain (%)"})]}),r.solar_radiation&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#eab308"}}),(0,t.jsx)("span",{className:"text-sm",children:"Solar Rad (W/m²)"})]}),r.wind_speed_ms&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#6b7280"}}),(0,t.jsx)("span",{className:"text-sm",children:"Wind (m/s)"})]})]})}),r.wbgt&&(0,t.jsx)(g.Line,{yAxisId:"temp",type:"monotone",dataKey:"wbgt",stroke:"#ef4444",strokeWidth:3,name:"WBGT (°C)",dot:{fill:"#ef4444",r:4}}),r.temperature&&(0,t.jsx)(g.Line,{yAxisId:"temp",type:"monotone",dataKey:"temperature",stroke:"#f97316",strokeWidth:2,name:"Temperature (°C)",dot:{fill:"#f97316",r:3}}),r.humidity&&(0,t.jsx)(g.Line,{yAxisId:"percent",type:"monotone",dataKey:"humidity",stroke:"#3b82f6",strokeWidth:2,name:"Humidity (%)",dot:{fill:"#3b82f6",r:3}}),r.rain_chance&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(tE,{yAxisId:"percent",type:"monotone",dataKey:"rain_chance",stroke:"#8b5cf6",strokeWidth:0,fill:"#8b5cf6",fillOpacity:.2})}),r.solar_radiation&&(0,t.jsx)(g.Line,{yAxisId:"solar",type:"monotone",dataKey:"solar_radiation",stroke:"#eab308",strokeWidth:2,name:"Solar Rad (W/m²)",dot:{fill:"#eab308",r:3}}),r.wind_speed_ms&&(0,t.jsx)(g.Line,{yAxisId:"wind",type:"monotone",dataKey:"wind_speed_ms",stroke:"#6b7280",strokeWidth:2,name:"Wind (m/s)",dot:{fill:"#6b7280",r:3}})]})})]})]})}let tT=(0,u.default)("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);var tL=b;function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function tM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(t){tW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tW(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t_(){return(t_=Object.assign.bind()).apply(null,arguments)}function tz(e){var t=(0,ec.useAppDispatch)();return(0,tL.useEffect)(()=>(t((0,eI.addLine)(e)),()=>{t((0,eI.removeLine)(e))})),null}function tR(e){var{x:t,y:r,segment:a,xAxisId:n,yAxisId:i,shape:l,className:o,ifOverflow:s}=e,c=(0,eL.useIsPanorama)(),d=(0,eD.useClipPathId)(),u=(0,ec.useAppSelector)(e=>(0,eT.selectXAxisSettings)(e,n)),p=(0,ec.useAppSelector)(e=>(0,eT.selectYAxisSettings)(e,i)),m=(0,ec.useAppSelector)(e=>(0,eT.selectAxisScale)(e,"xAxis",n,c)),f=(0,ec.useAppSelector)(e=>(0,eT.selectAxisScale)(e,"yAxis",i,c)),y=(0,ep.useViewBox)(),h=(0,$.isNumOrStr)(t),x=(0,$.isNumOrStr)(r);if(!d||!y||null==u||null==p||null==m||null==f)return null;var b=((e,t,r,a,n,i,l,o,s)=>{var{x:c,y:d,width:u,height:p}=n;if(r){var{y:m}=s,f=e.y.apply(m,{position:i});if((0,$.isNan)(f)||"discard"===s.ifOverflow&&!e.y.isInRange(f))return null;var y=[{x:c+u,y:f},{x:c,y:f}];return"left"===o?y.reverse():y}if(t){var{x:h}=s,x=e.x.apply(h,{position:i});if((0,$.isNan)(x)||"discard"===s.ifOverflow&&!e.x.isInRange(x))return null;var b=[{x:x,y:d+p},{x:x,y:d}];return"top"===l?b.reverse():b}if(a){var{segment:v}=s,g=v.map(t=>e.apply(t,{position:i}));return"discard"===s.ifOverflow&&g.some(t=>!e.isInRange(t))?null:g}return null})((0,eE.createLabeledScales)({x:m,y:f}),h,x,a&&2===a.length,y,e.position,u.orientation,p.orientation,e);if(!b)return null;var[{x:v,y:g},{x:j,y:O}]=b,w=tM(tM({clipPath:"hidden"===s?"url(#".concat(d,")"):void 0},(0,Y.svgPropertiesAndEvents)(e)),{},{x1:v,y1:g,x2:j,y2:O});return tL.createElement(eC.Layer,{className:(0,E.clsx)("recharts-reference-line",o)},tL.isValidElement(l)?tL.cloneElement(l,w):"function"==typeof l?l(w):tL.createElement("line",t_({},w,{className:"recharts-reference-line-line"})),tL.createElement(ek.CartesianLabelContextProvider,(0,eE.rectWithCoords)({x1:v,y1:g,x2:j,y2:O}),tL.createElement(ek.CartesianLabelFromLabelProp,{label:e.label}),e.children))}function tF(e){return tL.createElement(tL.Fragment,null,tL.createElement(tz,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),tL.createElement(tR,e))}class tB extends tL.Component{render(){return tL.createElement(tF,this.props)}}function tV({uvIndex:e,airQuality:r,forecastData:n}){let i=e<3?{level:"Low",color:"#22c55e",bg:"#dcfce7"}:e<6?{level:"Moderate",color:"#eab308",bg:"#fef9c3"}:e<8?{level:"High",color:"#f97316",bg:"#fed7aa"}:e<11?{level:"Very High",color:"#ef4444",bg:"#fecaca"}:{level:"Extreme",color:"#991b1b",bg:"#fca5a5"},l=r?r<=50?{level:"Good",color:"#22c55e",bg:"#dcfce7"}:r<=100?{level:"Moderate",color:"#eab308",bg:"#fef9c3"}:r<=150?{level:"Unhealthy for Sensitive",color:"#f97316",bg:"#fed7aa"}:r<=200?{level:"Unhealthy",color:"#ef4444",bg:"#fecaca"}:r<=300?{level:"Very Unhealthy",color:"#991b1b",bg:"#fca5a5"}:{level:"Hazardous",color:"#7f1d1d",bg:"#f87171"}:null,o=n.map(e=>({time:new Date(e.localTimestamp).toLocaleTimeString("en-US",{hour:"numeric"}),uv:e.uv_index})),s=n.filter(e=>void 0!==e.air_quality).map(e=>({time:new Date(e.localTimestamp).toLocaleTimeString("en-US",{hour:"numeric"}),aqi:e.air_quality}));return(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(d.Sun,{className:"h-5 w-5 text-yellow-600"}),"UV Index"]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"rounded-xl p-6 text-center",style:{backgroundColor:i.bg},children:[(0,t.jsx)("div",{className:"text-5xl font-bold mb-2",style:{color:i.color},children:e.toFixed(1)}),(0,t.jsx)("div",{className:"inline-block rounded-full px-4 py-1 text-sm font-bold uppercase",style:{backgroundColor:i.color,color:"white"},children:i.level})]})}),(0,t.jsx)("div",{className:"h-32",children:(0,t.jsx)(eA.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(v.LineChart,{data:o,children:[(0,t.jsx)(j.XAxis,{dataKey:"time",stroke:"#9ca3af",style:{fontSize:"10px"}}),(0,t.jsx)(O.YAxis,{stroke:"#9ca3af",style:{fontSize:"10px"}}),(0,t.jsx)(eV,{y1:3,y2:15,fill:"#eab308",fillOpacity:.2}),(0,t.jsx)(tB,{y:3,stroke:"#eab308",strokeWidth:2,strokeDasharray:"5 5"}),(0,t.jsx)(P.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),(0,t.jsx)(g.Line,{type:"monotone",dataKey:"uv",stroke:"#eab308",strokeWidth:2,dot:{fill:"#eab308",r:3}})]})})})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(tT,{className:"h-5 w-5 text-blue-600"}),"Air Quality Index"]})}),(0,t.jsx)(a.CardContent,{children:r&&l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"rounded-xl p-6 text-center",style:{backgroundColor:l.bg},children:[(0,t.jsx)("div",{className:"text-5xl font-bold mb-2",style:{color:l.color},children:r.toFixed(0)}),(0,t.jsx)("div",{className:"inline-block rounded-full px-4 py-1 text-sm font-bold uppercase",style:{backgroundColor:l.color,color:"white"},children:l.level})]})}),s.length>0&&(0,t.jsx)("div",{className:"h-32",children:(0,t.jsx)(eA.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(v.LineChart,{data:s,children:[(0,t.jsx)(j.XAxis,{dataKey:"time",stroke:"#9ca3af",style:{fontSize:"10px"}}),(0,t.jsx)(O.YAxis,{stroke:"#9ca3af",style:{fontSize:"10px"}}),(0,t.jsx)(P.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),(0,t.jsx)(g.Line,{type:"monotone",dataKey:"aqi",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:3}})]})})})]}):(0,t.jsx)("div",{className:"flex h-64 items-center justify-center rounded-xl bg-gray-50",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Air quality data not available"})})})]})]})}tW(tB,"displayName","ReferenceLine"),tW(tB,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var tK=e.i(83599),tH=e.i(54858),tG=e.i(31278);function tq(){let{data:e,error:a}=(0,tK.default)("current",tH.fetchCurrent,{refreshInterval:6e4}),{data:n,error:i}=(0,tK.default)("forecast",tH.fetchForecast,{refreshInterval:3e5});console.log("[v0] Raw forecast data:",n);let l=[];n&&(Array.isArray(n)?l=n:n.forecast&&Array.isArray(n.forecast)?l=n.forecast:"object"==typeof n&&(l=[n])),console.log("[v0] Normalized forecast array:",l);let s=!e||!n,c=a||i;return(0,t.jsxs)(r.PageContainer,{title:"Now",description:"Current conditions and 6-hour forecast with running recommendations",children:[c&&(0,t.jsx)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-4 text-destructive",children:"Failed to load weather data. Please try again later."}),s&&!c&&(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(tG.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),!s&&!c&&e&&n&&n.length>0&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(o,{data:{wbgt:e.wbgt,localTimestamp:e.timestamp}}),(0,t.jsx)(x,{wbgt:e.wbgt,esi:e.esi}),(0,t.jsx)(m,{data:e}),(0,t.jsx)(tI,{data:n.slice(0,6)}),(0,t.jsx)(tV,{uvIndex:e.uv_index,airQuality:e.air_quality,forecastData:n.slice(0,6)})]}),!s&&!c&&(!e||!n||0===n.length)&&(0,t.jsx)("div",{className:"rounded-lg border border-muted bg-muted/10 p-4 text-muted-foreground",children:"No weather data available at this time."})]})}e.s(["default",()=>tq],87539)}]);