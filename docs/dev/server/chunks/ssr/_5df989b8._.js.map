{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/components/page-container.tsx"],"sourcesContent":["import type { ReactNode } from \"react\"\n\ninterface PageContainerProps {\n  children: ReactNode\n  title: string\n  description?: string\n}\n\nexport function PageContainer({ children, title, description }: PageContainerProps) {\n  return (\n    <div className=\"min-h-screen bg-background pb-20 lg:pb-8 lg:pl-64\">\n      <div className=\"mx-auto max-w-7xl p-4 md:p-6 lg:p-8\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-balance text-3xl font-bold tracking-tight text-foreground md:text-4xl\">{title}</h1>\n          {description && <p className=\"mt-2 text-pretty text-muted-foreground\">{description}</p>}\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAQO,SAAS,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAsB;IAChF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA8E;;;;;;wBAC3F,6BAAe,8OAAC;4BAAE,WAAU;sCAA0C;;;;;;;;;;;;gBAExE;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/lib/weather-utils.ts"],"sourcesContent":["export interface WBGTZone {\n  level: number\n  label: string\n  description: string\n}\n\nexport function getWBGTZone(wbgtCelsius: number): WBGTZone {\n  // Custom performance-based WBGT zones\n  if (wbgtCelsius < 20) {\n    return {\n      level: 0,\n      label: \"Low Risk\",\n      description: \"Optimal performance conditions\",\n    }\n  } else if (wbgtCelsius < 23) {\n    return {\n      level: 1,\n      label: \"Medium Risk\", \n      description: \"Minor performance impact\",\n    }\n  } else if (wbgtCelsius < 26) {\n    return {\n      level: 2,\n      label: \"High Risk\",\n      description: \"Significant performance detriment\",\n    }\n  } else if (wbgtCelsius < 29) {\n    return {\n      level: 3,\n      label: \"High Risk\",\n      description: \"Major performance detriment\",\n    }\n  } else {\n    return {\n      level: 4,\n      label: \"Extreme Risk\",\n      description: \"Dangerous performance conditions\",\n    }\n  }\n}\n\nexport function getWBGTZoneColor(zone: WBGTZone) {\n  const colors = {\n    0: { bg: \"#dcfce7\", text: \"#166534\", border: \"#22c55e\" },\n    1: { bg: \"#fef9c3\", text: \"#854d0e\", border: \"#eab308\" },\n    2: { bg: \"#fed7aa\", text: \"#9a3412\", border: \"#f97316\" },\n    3: { bg: \"#fecaca\", text: \"#991b1b\", border: \"#ef4444\" },\n  }\n  return colors[zone.level as keyof typeof colors]\n}\n\nexport function getSafetyRecommendations(wbgtCelsius: number, esi: number) {\n  const zone = getWBGTZone(wbgtCelsius)\n\n  const recommendations = {\n    0: {\n      title: \"Optimal Conditions\",\n      message: \"Perfect conditions for peak performance.\",\n      actions: [\n        \"Ideal time for intense training sessions\",\n        \"Maximize performance potential\",\n        \"Monitor hydration during extended efforts\",\n        \"Recovery will be optimal in these conditions\",\n      ],\n      color: \"#22c55e\",\n      level: 0,\n    },\n    1: {\n      title: \"Minor Impact\",\n      message: \"Slight performance impact possible during prolonged efforts.\",\n      actions: [\n        \"Maintain normal training intensity\",\n        \"Stay hydrated during activities\",\n        \"Monitor performance metrics closely\",\n        \"Consider shorter warm-up periods\",\n      ],\n      color: \"#eab308\",\n      level: 1,\n    },\n    2: {\n      title: \"Significant Impact\",\n      message: \"Notable performance detriment. Adjust training expectations.\",\n      actions: [\n        \"Reduce training intensity by 10-15%\",\n        \"Increase rest periods between intervals\",\n        \"Focus on technique over speed\",\n        \"Consider indoor alternatives for quality sessions\",\n      ],\n      color: \"#f97316\",\n      level: 2,\n    },\n    3: {\n      title: \"Major Impact\", \n      message: \"Severe performance detriment. Reconsider training plans.\",\n      actions: [\n        \"Significantly reduce intensity (20-30% less)\",\n        \"Prioritize hydration and cooling strategies\",\n        \"Consider moving training to cooler times\",\n        \"Recovery sessions may be more appropriate\",\n      ],\n      color: \"#ef4444\",\n      level: 3,\n    },\n    4: {\n      title: \"Dangerous Conditions\",\n      message: \"Extreme performance detriment. Avoid outdoor training.\",\n      actions: [\n        \"Cancel outdoor training sessions\",\n        \"Move to air-conditioned indoor facilities\",\n        \"If outdoor activity is essential, keep intensity minimal\",\n        \"Focus on active recovery and mobility instead\",\n      ],\n      color: \"#991b1b\",\n      level: 4,\n    },\n  }\n\n  return recommendations[zone.level as keyof typeof recommendations] || recommendations[4]\n}"],"names":[],"mappings":";;;;;;;;AAMO,SAAS,YAAY,WAAmB;IAC7C,sCAAsC;IACtC,IAAI,cAAc,IAAI;QACpB,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO,IAAI,cAAc,IAAI;QAC3B,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO,IAAI,cAAc,IAAI;QAC3B,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO,IAAI,cAAc,IAAI;QAC3B,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO;QACL,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF;AACF;AAEO,SAAS,iBAAiB,IAAc;IAC7C,MAAM,SAAS;QACb,GAAG;YAAE,IAAI;YAAW,MAAM;YAAW,QAAQ;QAAU;QACvD,GAAG;YAAE,IAAI;YAAW,MAAM;YAAW,QAAQ;QAAU;QACvD,GAAG;YAAE,IAAI;YAAW,MAAM;YAAW,QAAQ;QAAU;QACvD,GAAG;YAAE,IAAI;YAAW,MAAM;YAAW,QAAQ;QAAU;IACzD;IACA,OAAO,MAAM,CAAC,KAAK,KAAK,CAAwB;AAClD;AAEO,SAAS,yBAAyB,WAAmB,EAAE,GAAW;IACvE,MAAM,OAAO,YAAY;IAEzB,MAAM,kBAAkB;QACtB,GAAG;YACD,OAAO;YACP,SAAS;YACT,SAAS;gBACP;gBACA;gBACA;gBACA;aACD;YACD,OAAO;YACP,OAAO;QACT;QACA,GAAG;YACD,OAAO;YACP,SAAS;YACT,SAAS;gBACP;gBACA;gBACA;gBACA;aACD;YACD,OAAO;YACP,OAAO;QACT;QACA,GAAG;YACD,OAAO;YACP,SAAS;YACT,SAAS;gBACP;gBACA;gBACA;gBACA;aACD;YACD,OAAO;YACP,OAAO;QACT;QACA,GAAG;YACD,OAAO;YACP,SAAS;YACT,SAAS;gBACP;gBACA;gBACA;gBACA;aACD;YACD,OAAO;YACP,OAAO;QACT;QACA,GAAG;YACD,OAAO;YACP,SAAS;YACT,SAAS;gBACP;gBACA;gBACA;gBACA;aACD;YACD,OAAO;YACP,OAAO;QACT;IACF;IAEA,OAAO,eAAe,CAAC,KAAK,KAAK,CAAiC,IAAI,eAAe,CAAC,EAAE;AAC1F","debugId":null}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/components/recent-data-table.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"./ui/table\"\nimport type { WeatherObservation } from \"@/lib/types\"\nimport { ArrowUp, ArrowDown, Minus } from \"lucide-react\"\nimport { getWBGTZone } from \"@/lib/weather-utils\"\n\ninterface RecentDataTableProps {\n  data: WeatherObservation[]\n}\n\nexport function RecentDataTable({ data }: RecentDataTableProps) {\n  const [sortColumn, setSortColumn] = useState<keyof WeatherObservation | null>(null)\n  const [sortDirection, setSortDirection] = useState<\"asc\" | \"desc\">(\"desc\")\n\n  const handleSort = (column: keyof WeatherObservation) => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\")\n    } else {\n      setSortColumn(column)\n      setSortDirection(\"desc\")\n    }\n  }\n\n  const sortedData = [...data].sort((a, b) => {\n    if (!sortColumn) return 0\n    const aVal = a[sortColumn]\n    const bVal = b[sortColumn]\n    if (typeof aVal === \"number\" && typeof bVal === \"number\") {\n      return sortDirection === \"asc\" ? aVal - bVal : bVal - aVal\n    }\n    return 0\n  })\n\n  const getTrend = (index: number, key: keyof WeatherObservation) => {\n    if (index === 0) return null\n    const current = data[index][key] as number\n    const previous = data[index - 1][key] as number\n    if (current > previous) return \"up\"\n    if (current < previous) return \"down\"\n    return \"same\"\n  }\n\n  const formatTime = (timestamp: string) => {\n    if (!timestamp) return 'Invalid Date'\n\n    try {\n      let date: Date\n\n      if (timestamp.includes('/')) {\n        // Parse DD/MM/YYYY, HH:mm:ss format\n        const parts = timestamp.split(', ')\n        if (parts.length !== 2) throw new Error('Invalid timestamp format')\n\n        const [datePart, timePart] = parts\n        const [day, month, year] = datePart.trim().split('/')\n        const timeComponents = timePart.trim().split(':')\n\n        if (timeComponents.length < 2) throw new Error('Invalid time format')\n\n        const [hours, minutes, seconds = '0'] = timeComponents\n\n        // Create date with explicit numeric values\n        const dayNum = parseInt(day, 10)\n        const monthNum = parseInt(month, 10)\n        const yearNum = parseInt(year, 10)\n        const hoursNum = parseInt(hours, 10)\n        const minutesNum = parseInt(minutes, 10)\n        const secondsNum = parseInt(seconds, 10)\n\n        if (isNaN(dayNum) || isNaN(monthNum) || isNaN(yearNum) ||\n            isNaN(hoursNum) || isNaN(minutesNum) || isNaN(secondsNum)) {\n          throw new Error('Invalid numeric values in timestamp')\n        }\n\n        // Note: JavaScript months are 0-indexed, so subtract 1\n        date = new Date(yearNum, monthNum - 1, dayNum, hoursNum, minutesNum, secondsNum)\n      } else {\n        // Try standard ISO format\n        date = new Date(timestamp)\n      }\n\n      if (isNaN(date.getTime())) {\n        console.error('Invalid date created from timestamp:', timestamp)\n        return 'Invalid Date'\n      }\n\n      return date.toLocaleTimeString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        hour12: true\n      })\n    } catch (error) {\n      console.error('Date formatting error:', error, 'Timestamp:', timestamp)\n      return 'Invalid Date'\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-lg\">Detailed Observations</CardTitle>\n        <p className=\"text-sm text-muted-foreground\">Click column headers to sort</p>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"localTimestamp\")}>\n                  Time\n                </TableHead>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"wbgt\")}>\n                  WBGT\n                </TableHead>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"temperature\")}>\n                  Temp\n                </TableHead>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"apparent_temp\")}>\n                  Feels Like\n                </TableHead>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"humidity\")}>\n                  Humidity\n                </TableHead>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"solar_radiation\")}>\n                  Solar Rad\n                </TableHead>\n                <TableHead className=\"cursor-pointer\" onClick={() => handleSort(\"uv_index\")}>\n                  UV\n                </TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {sortedData.map((row, index) => {\n                const wbgtZone = getWBGTZone(row.wbgt)\n                const originalIndex = data.indexOf(row)\n\n                return (\n                  <TableRow key={index}>\n                    <TableCell className=\"font-medium\">{formatTime(row.timestamp || row.localTimestamp)}</TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-2\">\n                        <span\n                          className=\"inline-block h-3 w-3 rounded-full\"\n                          style={{\n                            backgroundColor:\n                              getWBGTZone(row.wbgt).level === 0\n                                ? \"#22c55e\" // Optimal - green\n                                : getWBGTZone(row.wbgt).level === 1\n                                  ? \"#eab308\" // Minor Impact - yellow\n                                  : getWBGTZone(row.wbgt).level === 2\n                                    ? \"#f97316\" // Significant Impact - orange\n                                    : getWBGTZone(row.wbgt).level === 3\n                                      ? \"#ef4444\" // Major Impact - red\n                                      : \"#991b1b\", // Extreme - dark red\n                          }}\n                        />\n                        <span className=\"font-semibold\">{row.wbgt.toFixed(1)}°C</span>\n                        {getTrend(originalIndex, \"wbgt\") === \"up\" && <ArrowUp className=\"h-3 w-3 text-red-500\" />}\n                        {getTrend(originalIndex, \"wbgt\") === \"down\" && <ArrowDown className=\"h-3 w-3 text-green-500\" />}\n                        {getTrend(originalIndex, \"wbgt\") === \"same\" && <Minus className=\"h-3 w-3 text-gray-400\" />}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-1\">\n                        {row.temperature.toFixed(1)}°C\n                        {getTrend(originalIndex, \"temperature\") === \"up\" && (\n                          <ArrowUp className=\"h-3 w-3 text-red-500\" />\n                        )}\n                        {getTrend(originalIndex, \"temperature\") === \"down\" && (\n                          <ArrowDown className=\"h-3 w-3 text-blue-500\" />\n                        )}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-1\">\n                        {row.apparent_temp.toFixed(1)}°C\n                        {getTrend(originalIndex, \"apparent_temp\") === \"up\" && (\n                          <ArrowUp className=\"h-3 w-3 text-red-500\" />\n                        )}\n                        {getTrend(originalIndex, \"apparent_temp\") === \"down\" && (\n                          <ArrowDown className=\"h-3 w-3 text-blue-500\" />\n                        )}\n                      </div>\n                    </TableCell>\n                    <TableCell>{row.humidity}%</TableCell>\n                    <TableCell>{row.solar_radiation.toFixed(0)} W/m²</TableCell>\n                    <TableCell>{row.uv_index.toFixed(1)}</TableCell>\n                  </TableRow>\n                )\n              })}\n            </TableBody>\n          </Table>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/components/trend-analysis.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\"\nimport type { WeatherObservation } from \"@/lib/types\"\nimport { TrendingUp, TrendingDown, Minus, Activity } from \"lucide-react\"\nimport { LineChart, Line, XAxis, YAxis, ResponsiveContainer, Tooltip, CartesianGrid } from \"recharts\"\n\ninterface TrendAnalysisProps {\n  data: WeatherObservation[]\n}\n\nexport function TrendAnalysis({ data }: TrendAnalysisProps) {\n  const calculateTrend = (values: number[]) => {\n    if (values.length < 2) return { direction: \"stable\", change: 0 }\n    const first = values[0]\n    const last = values[values.length - 1]\n    const change = ((last - first) / first) * 100\n\n    if (Math.abs(change) < 2) return { direction: \"stable\", change: 0 }\n    return { direction: change > 0 ? \"up\" : \"down\", change: Math.abs(change) }\n  }\n\n  const formatTime = (timestamp: string) => {\n    if (!timestamp) return 'Invalid Date'\n\n    try {\n      let date: Date\n\n      if (timestamp.includes('/')) {\n        // Parse DD/MM/YYYY, HH:mm:ss format\n        const parts = timestamp.split(', ')\n        if (parts.length !== 2) throw new Error('Invalid timestamp format')\n\n        const [datePart, timePart] = parts\n        const [day, month, year] = datePart.trim().split('/')\n        const timeComponents = timePart.trim().split(':')\n\n        if (timeComponents.length < 2) throw new Error('Invalid time format')\n\n        const [hours, minutes, seconds = '0'] = timeComponents\n\n        // Create date with explicit numeric values\n        const dayNum = parseInt(day, 10)\n        const monthNum = parseInt(month, 10)\n        const yearNum = parseInt(year, 10)\n        const hoursNum = parseInt(hours, 10)\n        const minutesNum = parseInt(minutes, 10)\n        const secondsNum = parseInt(seconds, 10)\n\n        if (isNaN(dayNum) || isNaN(monthNum) || isNaN(yearNum) ||\n            isNaN(hoursNum) || isNaN(minutesNum) || isNaN(secondsNum)) {\n          throw new Error('Invalid numeric values in timestamp')\n        }\n\n        // Note: JavaScript months are 0-indexed, so subtract 1\n        date = new Date(yearNum, monthNum - 1, dayNum, hoursNum, minutesNum, secondsNum)\n      } else {\n        // Try standard ISO format\n        date = new Date(timestamp)\n      }\n\n      if (isNaN(date.getTime())) {\n        return 'Invalid Date'\n      }\n\n      return date.toLocaleTimeString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        hour12: true\n      })\n    } catch (error) {\n      return 'Invalid Date'\n    }\n  }\n\n  const wbgtValues = data.map((d) => d.wbgt)\n  const tempValues = data.map((d) => d.temperature)\n  const humidityValues = data.map((d) => d.humidity)\n  const windValues = data.map((d) => d.wind_speed_ms)\n\n  const wbgtTrend = calculateTrend(wbgtValues)\n  const tempTrend = calculateTrend(tempValues)\n  const humidityTrend = calculateTrend(humidityValues)\n  const windTrend = calculateTrend(windValues)\n\n  // Reverse data for charts so time goes left to right (oldest to newest)\n  const chartData = [...data].reverse().map((item) => ({\n    time: formatTime(item.timestamp || item.localTimestamp),\n    wbgt: item.wbgt,\n    temperature: item.temperature,\n    humidity: item.humidity,\n  }))\n\n  const TrendIcon = ({ direction }: { direction: string }) => {\n    if (direction === \"up\") return <TrendingUp className=\"h-5 w-5 text-red-500\" />\n    if (direction === \"down\") return <TrendingDown className=\"h-5 w-5 text-green-500\" />\n    return <Minus className=\"h-5 w-5 text-gray-400\" />\n  }\n\n  const trends = [\n    {\n      label: \"WBGT\",\n      current: wbgtValues[wbgtValues.length - 1],\n      unit: \"°C\",\n      trend: wbgtTrend,\n      color: \"#ef4444\",\n    },\n    {\n      label: \"Temperature\",\n      current: tempValues[tempValues.length - 1],\n      unit: \"°C\",\n      trend: tempTrend,\n      color: \"#f97316\",\n    },\n    {\n      label: \"Humidity\",\n      current: humidityValues[humidityValues.length - 1],\n      unit: \"%\",\n      trend: humidityTrend,\n      color: \"#3b82f6\",\n    },\n    {\n      label: \"Wind Speed\",\n      current: windValues[windValues.length - 1],\n      unit: \"m/s\",\n      trend: windTrend,\n      color: \"#06b6d4\",\n    },\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Trend Summary Cards */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        {trends.map((item) => (\n          <Card key={item.label}>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-sm font-medium text-muted-foreground\">{item.label}</span>\n                <TrendIcon direction={item.trend.direction} />\n              </div>\n              <div className=\"text-3xl font-bold\" style={{ color: item.color }}>\n                {item.current.toFixed(1)}\n                <span className=\"text-lg ml-1\">{item.unit}</span>\n              </div>\n              {item.trend.change > 0 && (\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  {item.trend.direction === \"up\" ? \"+\" : \"-\"}\n                  {item.trend.change.toFixed(1)}% over 6 hours\n                </p>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Trend Charts */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <Activity className=\"h-5 w-5\" />\n            6-Hour Trends\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-8\">\n            {/* WBGT Trend */}\n            <div>\n              <h4 className=\"text-sm font-semibold mb-3 text-muted-foreground\">WBGT Temperature</h4>\n              <ResponsiveContainer width=\"100%\" height={120}>\n                <LineChart data={chartData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                  <XAxis dataKey=\"time\" stroke=\"#9ca3af\" style={{ fontSize: \"11px\" }} />\n                  <YAxis stroke=\"#9ca3af\" style={{ fontSize: \"11px\" }} domain={[\"dataMin - 1\", \"dataMax + 1\"]} />\n                  <Tooltip\n                    contentStyle={{\n                      backgroundColor: \"white\",\n                      border: \"1px solid #e5e7eb\",\n                      borderRadius: \"8px\",\n                      fontSize: \"12px\",\n                    }}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"wbgt\"\n                    stroke=\"#ef4444\"\n                    strokeWidth={3}\n                    dot={{ fill: \"#ef4444\", r: 4 }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n\n            {/* Temperature Trend */}\n            <div>\n              <h4 className=\"text-sm font-semibold mb-3 text-muted-foreground\">Temperature</h4>\n              <ResponsiveContainer width=\"100%\" height={120}>\n                <LineChart data={chartData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                  <XAxis dataKey=\"time\" stroke=\"#9ca3af\" style={{ fontSize: \"11px\" }} />\n                  <YAxis stroke=\"#9ca3af\" style={{ fontSize: \"11px\" }} domain={[\"dataMin - 1\", \"dataMax + 1\"]} />\n                  <Tooltip\n                    contentStyle={{\n                      backgroundColor: \"white\",\n                      border: \"1px solid #e5e7eb\",\n                      borderRadius: \"8px\",\n                      fontSize: \"12px\",\n                    }}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"temperature\"\n                    stroke=\"#f97316\"\n                    strokeWidth={3}\n                    dot={{ fill: \"#f97316\", r: 4 }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n\n            {/* Humidity Trend */}\n            <div>\n              <h4 className=\"text-sm font-semibold mb-3 text-muted-foreground\">Humidity</h4>\n              <ResponsiveContainer width=\"100%\" height={120}>\n                <LineChart data={chartData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                  <XAxis dataKey=\"time\" stroke=\"#9ca3af\" style={{ fontSize: \"11px\" }} />\n                  <YAxis stroke=\"#9ca3af\" style={{ fontSize: \"11px\" }} domain={[\"dataMin - 5\", \"dataMax + 5\"]} />\n                  <Tooltip\n                    contentStyle={{\n                      backgroundColor: \"white\",\n                      border: \"1px solid #e5e7eb\",\n                      borderRadius: \"8px\",\n                      fontSize: \"12px\",\n                    }}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"humidity\"\n                    stroke=\"#3b82f6\"\n                    strokeWidth={3}\n                    dot={{ fill: \"#3b82f6\", r: 4 }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1390, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/lib/api.ts"],"sourcesContent":["const API_BASE = \"https://wbgt-mcp-server.justin213141.workers.dev/api\"\n\nexport async function fetchObservations() {\n  const response = await fetch(`${API_BASE}/observations`)\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch observations\")\n  }\n  const result = await response.json()\n  // Handle API wrapper format: { success: true, data: [...] }\n  return result.data || result\n}\n\nexport async function fetchForecast() {\n  const response = await fetch(`${API_BASE}/forecast`)\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch forecast\")\n  }\n  const result = await response.json()\n  // Handle API wrapper format: { success: true, data: [...] }\n  return result.data || result\n}\n\nexport async function fetchCurrent() {\n  const response = await fetch(`${API_BASE}/current`)\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch current conditions\")\n  }\n  const result = await response.json()\n  // Handle API wrapper format: { success: true, data: {...} }\n  return result.data || result\n}\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,WAAW;AAEV,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,aAAa,CAAC;IACvD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,SAAS,MAAM,SAAS,IAAI;IAClC,4DAA4D;IAC5D,OAAO,OAAO,IAAI,IAAI;AACxB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,SAAS,CAAC;IACnD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,SAAS,MAAM,SAAS,IAAI;IAClC,4DAA4D;IAC5D,OAAO,OAAO,IAAI,IAAI;AACxB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,QAAQ,CAAC;IAClD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,SAAS,MAAM,SAAS,IAAI;IAClC,4DAA4D;IAC5D,OAAO,OAAO,IAAI,IAAI;AACxB","debugId":null}},
    {"offset": {"line": 1430, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/wbgt-front-end/wbgt-v0/app/recent/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { PageContainer } from \"@/components/page-container\"\nimport { RecentDataTable } from \"@/components/recent-data-table\"\nimport { TrendAnalysis } from \"@/components/trend-analysis\"\nimport useSWR from \"swr\"\nimport { fetchObservations } from \"@/lib/api\"\nimport type { WeatherObservation } from \"@/lib/types\"\nimport { Loader2 } from \"lucide-react\"\n\nexport default function RecentPage() {\n  const { data: observations, error } = useSWR<WeatherObservation[]>(\"recent-observations\", fetchObservations, {\n    refreshInterval: 60000,\n  })\n\n  console.log(\"[v0] Recent observations data:\", observations)\n\n  const isLoading = !observations\n  const hasError = error\n\n  let normalizedObservations: WeatherObservation[] = []\n  if (observations) {\n    if (Array.isArray(observations)) {\n      normalizedObservations = observations\n    } else if (typeof observations === \"object\" && \"observations\" in observations) {\n      normalizedObservations = Array.isArray((observations as any).observations)\n        ? (observations as any).observations\n        : []\n    } else {\n      // Single observation object - wrap in array\n      normalizedObservations = [observations as WeatherObservation]\n    }\n  }\n\n  // Sort observations by timestamp (most recent first) and get last 6 hours\n  const sortedObservations = normalizedObservations.sort((a, b) => {\n    const dateA = new Date(a.timestamp || a.localTimestamp || 0)\n    const dateB = new Date(b.timestamp || b.localTimestamp || 0)\n    return dateB.getTime() - dateA.getTime() // Most recent first\n  })\n  const recentData = sortedObservations.slice(0, 6)\n\n  return (\n    <PageContainer title=\"Recent\" description=\"Past 6 hours of observations with data tables and trend analysis\">\n      {hasError && (\n        <div className=\"rounded-lg border border-destructive bg-destructive/10 p-4 text-destructive\">\n          Failed to load recent weather data. Please try again later.\n        </div>\n      )}\n\n      {isLoading && !hasError && (\n        <div className=\"flex items-center justify-center py-12\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n        </div>\n      )}\n\n      {!isLoading && !hasError && recentData.length > 0 && (\n        <div className=\"space-y-6\">\n          {/* Trend Analysis */}\n          <TrendAnalysis data={recentData} />\n\n          {/* Data Table */}\n          <RecentDataTable data={recentData} />\n        </div>\n      )}\n\n      {!isLoading && !hasError && recentData.length === 0 && (\n        <div className=\"rounded-lg border border-border bg-muted p-8 text-center\">\n          <p className=\"text-muted-foreground\">No recent data available</p>\n        </div>\n      )}\n    </PageContainer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AARA;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,MAAM,YAAY,EAAE,KAAK,EAAE,GAAG,IAAA,yKAAM,EAAuB,uBAAuB,+HAAiB,EAAE;QAC3G,iBAAiB;IACnB;IAEA,QAAQ,GAAG,CAAC,kCAAkC;IAE9C,MAAM,YAAY,CAAC;IACnB,MAAM,WAAW;IAEjB,IAAI,yBAA+C,EAAE;IACrD,IAAI,cAAc;QAChB,IAAI,MAAM,OAAO,CAAC,eAAe;YAC/B,yBAAyB;QAC3B,OAAO,IAAI,OAAO,iBAAiB,YAAY,kBAAkB,cAAc;YAC7E,yBAAyB,MAAM,OAAO,CAAC,AAAC,aAAqB,YAAY,IACrE,AAAC,aAAqB,YAAY,GAClC,EAAE;QACR,OAAO;YACL,4CAA4C;YAC5C,yBAAyB;gBAAC;aAAmC;QAC/D;IACF;IAEA,0EAA0E;IAC1E,MAAM,qBAAqB,uBAAuB,IAAI,CAAC,CAAC,GAAG;QACzD,MAAM,QAAQ,IAAI,KAAK,EAAE,SAAS,IAAI,EAAE,cAAc,IAAI;QAC1D,MAAM,QAAQ,IAAI,KAAK,EAAE,SAAS,IAAI,EAAE,cAAc,IAAI;QAC1D,OAAO,MAAM,OAAO,KAAK,MAAM,OAAO,GAAG,oBAAoB;;IAC/D;IACA,MAAM,aAAa,mBAAmB,KAAK,CAAC,GAAG;IAE/C,qBACE,8OAAC,iJAAa;QAAC,OAAM;QAAS,aAAY;;YACvC,0BACC,8OAAC;gBAAI,WAAU;0BAA8E;;;;;;YAK9F,aAAa,CAAC,0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4NAAO;oBAAC,WAAU;;;;;;;;;;;YAItB,CAAC,aAAa,CAAC,YAAY,WAAW,MAAM,GAAG,mBAC9C,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,iJAAa;wBAAC,MAAM;;;;;;kCAGrB,8OAAC,yJAAe;wBAAC,MAAM;;;;;;;;;;;;YAI1B,CAAC,aAAa,CAAC,YAAY,WAAW,MAAM,KAAK,mBAChD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAK/C","debugId":null}}]
}